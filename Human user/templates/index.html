<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Assistente Jur√≠dico - Dashboard</title>
  
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  
  <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
</head>

<body>

  <aside class="sidebar">
    
    <div class="sidebar-header">
      <h2>üí∞ Monitor de Custos</h2>
    </div>

    <div class="cost-card gpt-card">
      <div class="card-header">
        <span class="dot gpt-dot"></span> GPT-4o-mini
      </div>
      <div class="card-body">
        <div class="stat-row">
            <span class="stat-label">Run:</span>
            <span id="display-gpt-run" class="stat-value">US$ 0.00000</span>
        </div>
        <div class="stat-row">
            <span class="stat-label">Total:</span>
            <span id="display-gpt-total" class="stat-value">US$ 0.00000</span>
        </div>
      </div>
    </div>

    <div class="cost-card gemini-card">
      <div class="card-header">
        <span class="dot gemini-dot"></span> Gemini 1.5 Flash
      </div>
      <div class="card-body">
        <div class="stat-row">
            <span class="stat-label">Run:</span>
            <span id="display-gem-run" class="stat-value">US$ 0.00000</span>
        </div>
        <div class="stat-row">
            <span class="stat-label">Total:</span>
            <span id="display-gem-total" class="stat-value">US$ 0.00000</span>
        </div>
      </div>
    </div>

    <div class="divider"></div>

    <div class="sidebar-header">
      <h2>üìä Estat√≠sticas</h2>
    </div>

    <div class="cost-card token-card">
      <div class="card-header">
        <span class="dot token-dot"></span> Tokens Acumulados
      </div>
      <div class="card-body">
        <div class="stat-row">
            <span class="stat-label" style="color: var(--gpt-color)">GPT:</span>
            <span id="gpt_tokens_cell" class="stat-value">0</span>
        </div>
        <div class="stat-row">
            <span class="stat-label" style="color: var(--gemini-color)">Gemini:</span>
            <span id="gem_tokens_cell" class="stat-value">0</span>
        </div>
      </div>
    </div>

    <div class="divider"></div>

    <div class="panel-section flex-grow">
      <div class="section-title">Hist√≥rico de Runs</div>
      <div class="table-header">
        <span>#</span>
        <span>GPT</span>
        <span>Gem</span>
      </div>
      <div id="runs_body" class="runs-list">
        </div>
    </div>

    <button class="btn-save" onclick="salvarConversaServidor()">
      üíæ Salvar JSON
    </button>
  </aside>


  <main class="main-content">
    
    <header class="topbar">
      <div class="brand">
        <div class="brand-icon">‚öñÔ∏è</div>
        <div class="brand-info">
          <h1>Assistente Jur√≠dico</h1>
          <p>Comparativo IA: GPT vs Gemini</p>
        </div>
      </div>
    </header>

    <div class="chat-area" id="messages">
      </div>

    <div id="typing-indicator" class="typing hidden">
      <div class="dots"><span></span><span></span><span></span></div>
      <span class="typing-text">Analisando processo jur√≠dico...</span>
    </div>

    <div class="input-area">
      <div class="input-wrapper">
        <input id="mensagem" type="text" placeholder="Digite o caso jur√≠dico aqui..." autocomplete="off">
        <button id="enviarBtn">Enviar</button>
      </div>
    </div>

  </main>

  <script src="{{ url_for('static', filename='app.js') }}"></script>

</body>
</html>